
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Propeller Documentation">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../architecture/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Getting Started - Propeller</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Propeller" class="md-header__button md-logo" aria-label="Propeller" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Propeller
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/absmach/propeller-docs.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Propeller" class="md-nav__button md-logo" aria-label="Propeller" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Propeller
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/absmach/propeller-docs.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clone-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the repository
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-and-install-the-artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Build and Install the Artifacts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build and Install the Artifacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-make-install-fails" class="md-nav__link">
    <span class="md-ellipsis">
      If make install fails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-the-build-process-does" class="md-nav__link">
    <span class="md-ellipsis">
      What the build process does
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the artifacts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-rust-wasi-http-example" class="md-nav__link">
    <span class="md-ellipsis">
      Working with the Rust WASI HTTP Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with the Rust WASI HTTP Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-initialize-the-git-submodules" class="md-nav__link">
    <span class="md-ellipsis">
      1. Initialize the Git submodules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install-the-required-rust-target" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install the required Rust target
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-build-the-rust-example" class="md-nav__link">
    <span class="md-ellipsis">
      3. Build the Rust example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-install-cargo-component-once" class="md-nav__link">
    <span class="md-ellipsis">
      4. Install cargo-component (once)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-serve-the-rust-component-locally" class="md-nav__link">
    <span class="md-ellipsis">
      5. Serve the Rust component locally
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-test-the-rust-http-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      6. Test the Rust HTTP endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Test the Rust HTTP endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hello-world-route" class="md-nav__link">
    <span class="md-ellipsis">
      Hello world route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-route" class="md-nav__link">
    <span class="md-ellipsis">
      Wait route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#echo-body-route" class="md-nav__link">
    <span class="md-ellipsis">
      Echo body route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#echo-headers-route" class="md-nav__link">
    <span class="md-ellipsis">
      Echo headers route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#echo-trailers-route" class="md-nav__link">
    <span class="md-ellipsis">
      Echo trailers route
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-supermq-and-propeller" class="md-nav__link">
    <span class="md-ellipsis">
      Run SuperMQ and Propeller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-1-run-everything-with-docker-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Run everything with Docker (recommended)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option 1: Run everything with Docker (recommended)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-the-supermq-docker-stack-first-time" class="md-nav__link">
    <span class="md-ellipsis">
      1. Start the SuperMQ Docker stack (first time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-provision-supermq-with-propeller-cli" class="md-nav__link">
    <span class="md-ellipsis">
      2. Provision SuperMQ with propeller-cli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-mount-configtoml-into-the-docker-services" class="md-nav__link">
    <span class="md-ellipsis">
      3. Mount config.toml into the Docker services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-restart-the-docker-stack-so-propeller-reads-configtoml" class="md-nav__link">
    <span class="md-ellipsis">
      4. Restart the Docker stack so Propeller reads config.toml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-run-propeller-binaries-directly-without-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Run Propeller binaries directly (without Docker)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option 2: Run Propeller binaries directly (without Docker)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-the-manager" class="md-nav__link">
    <span class="md-ellipsis">
      1. Start the manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-start-the-proplet" class="md-nav__link">
    <span class="md-ellipsis">
      2. Start the proplet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-start-the-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      3. Start the proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postman-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Postman Collection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-proplets" class="md-nav__link">
    <span class="md-ellipsis">
      List Proplets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-task" class="md-nav__link">
    <span class="md-ellipsis">
      Create task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-task" class="md-nav__link">
    <span class="md-ellipsis">
      Get a task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-wasm-file" class="md-nav__link">
    <span class="md-ellipsis">
      Upload Wasm File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-task-with-base64-encoded-wasm-file" class="md-nav__link">
    <span class="md-ellipsis">
      Update task with base64 encoded Wasm file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-a-task" class="md-nav__link">
    <span class="md-ellipsis">
      Start a task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop-a-task" class="md-nav__link">
    <span class="md-ellipsis">
      Stop a task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-tasks-from-oci-registry-images" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Tasks from OCI Registry Images
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manager
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../proplet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proplet
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../embedded-proplet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Embedded Proplet
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../zephyr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zephyr
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clone-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the repository
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-and-install-the-artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Build and Install the Artifacts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build and Install the Artifacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-make-install-fails" class="md-nav__link">
    <span class="md-ellipsis">
      If make install fails
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-the-build-process-does" class="md-nav__link">
    <span class="md-ellipsis">
      What the build process does
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-artifacts" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the artifacts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-rust-wasi-http-example" class="md-nav__link">
    <span class="md-ellipsis">
      Working with the Rust WASI HTTP Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with the Rust WASI HTTP Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-initialize-the-git-submodules" class="md-nav__link">
    <span class="md-ellipsis">
      1. Initialize the Git submodules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install-the-required-rust-target" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install the required Rust target
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-build-the-rust-example" class="md-nav__link">
    <span class="md-ellipsis">
      3. Build the Rust example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-install-cargo-component-once" class="md-nav__link">
    <span class="md-ellipsis">
      4. Install cargo-component (once)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-serve-the-rust-component-locally" class="md-nav__link">
    <span class="md-ellipsis">
      5. Serve the Rust component locally
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-test-the-rust-http-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      6. Test the Rust HTTP endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Test the Rust HTTP endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hello-world-route" class="md-nav__link">
    <span class="md-ellipsis">
      Hello world route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-route" class="md-nav__link">
    <span class="md-ellipsis">
      Wait route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#echo-body-route" class="md-nav__link">
    <span class="md-ellipsis">
      Echo body route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#echo-headers-route" class="md-nav__link">
    <span class="md-ellipsis">
      Echo headers route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#echo-trailers-route" class="md-nav__link">
    <span class="md-ellipsis">
      Echo trailers route
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-supermq-and-propeller" class="md-nav__link">
    <span class="md-ellipsis">
      Run SuperMQ and Propeller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-1-run-everything-with-docker-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Run everything with Docker (recommended)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option 1: Run everything with Docker (recommended)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-the-supermq-docker-stack-first-time" class="md-nav__link">
    <span class="md-ellipsis">
      1. Start the SuperMQ Docker stack (first time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-provision-supermq-with-propeller-cli" class="md-nav__link">
    <span class="md-ellipsis">
      2. Provision SuperMQ with propeller-cli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-mount-configtoml-into-the-docker-services" class="md-nav__link">
    <span class="md-ellipsis">
      3. Mount config.toml into the Docker services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-restart-the-docker-stack-so-propeller-reads-configtoml" class="md-nav__link">
    <span class="md-ellipsis">
      4. Restart the Docker stack so Propeller reads config.toml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-run-propeller-binaries-directly-without-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Run Propeller binaries directly (without Docker)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option 2: Run Propeller binaries directly (without Docker)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-start-the-manager" class="md-nav__link">
    <span class="md-ellipsis">
      1. Start the manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-start-the-proplet" class="md-nav__link">
    <span class="md-ellipsis">
      2. Start the proplet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-start-the-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      3. Start the proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postman-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Postman Collection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-proplets" class="md-nav__link">
    <span class="md-ellipsis">
      List Proplets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-task" class="md-nav__link">
    <span class="md-ellipsis">
      Create task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-task" class="md-nav__link">
    <span class="md-ellipsis">
      Get a task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-wasm-file" class="md-nav__link">
    <span class="md-ellipsis">
      Upload Wasm File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-task-with-base64-encoded-wasm-file" class="md-nav__link">
    <span class="md-ellipsis">
      Update task with base64 encoded Wasm file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-a-task" class="md-nav__link">
    <span class="md-ellipsis">
      Start a task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop-a-task" class="md-nav__link">
    <span class="md-ellipsis">
      Stop a task
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-tasks-from-oci-registry-images" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Tasks from OCI Registry Images
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">#</a></h1>
<p>Before proceeding, install the following prerequisites:</p>
<ul>
<li><a href="https://go.dev/doc/install">A Go compiler (Go 1.24 or later)</a></li>
<li><a href="https://www.gnu.org/software/make/manual/make.html">Make</a></li>
<li><a href="https://docs.docker.com/">Docker</a></li>
<li><a href="https://wasmtime.dev/">Wasmtime</a></li>
<li><a href="https://tinygo.org/getting-started/install/">TinyGo</a></li>
<li><a href="https://mosquitto.org/">Mosquitto Tools</a></li>
<li><a href="https://rustup.rs/">rustup</a></li>
</ul>
<blockquote>
<p><strong>Note:</strong> <code>rustup</code> will install the Rust toolchain and <code>cargo</code>. You will also use it to add WebAssembly targets.</p>
</blockquote>
<hr />
<h2 id="clone-the-repository">Clone the repository<a class="headerlink" href="#clone-the-repository" title="Permanent link">#</a></h2>
<p>Clone the repository:</p>
<pre><code class="language-bash">git clone https://github.com/absmach/propeller.git
cd propeller
</code></pre>
<h2 id="build-and-install-the-artifacts">Build and Install the Artifacts<a class="headerlink" href="#build-and-install-the-artifacts" title="Permanent link">#</a></h2>
<p>This step compiles all Propeller components (manager, proplet, CLI, proxy, and example WASM modules).
Run the following:</p>
<pre><code class="language-bash">make all -j $(nproc)
make install
</code></pre>
<h3 id="if-make-install-fails">If <code>make install</code> fails<a class="headerlink" href="#if-make-install-fails" title="Permanent link">#</a></h3>
<p>You likely don’t have your Go binary path (<code>$GOBIN</code>) configured.
Set it up like this:</p>
<pre><code class="language-bash">export GOBIN=$HOME/go/bin
export PATH=$PATH:$GOBIN
</code></pre>
<p>Run <code>make install</code> again afterward.</p>
<hr />
<h3 id="what-the-build-process-does">What the build process does<a class="headerlink" href="#what-the-build-process-does" title="Permanent link">#</a></h3>
<p>During the build, you will see output similar to:</p>
<pre><code class="language-bash">CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build ... -o build/manager cmd/manager/main.go
CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build ... -o build/proplet cmd/proplet/main.go
CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build ... -o build/cli cmd/cli/main.go
CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build ... -o build/proxy cmd/proxy/main.go

GOOS=js GOARCH=wasm tinygo build -buildmode=c-shared -o build/addition.wasm     -target wasip1 examples/addition/addition.go
GOOS=js GOARCH=wasm tinygo build -buildmode=c-shared -o build/compute.wasm      -target wasip1 examples/compute/compute.go
GOOS=js GOARCH=wasm tinygo build -buildmode=c-shared -o build/hello-world.wasm  -target wasip1 examples/hello-world/hello-world.go
</code></pre>
<p>This means:</p>
<ul>
<li>All Go binaries were built and placed into <code>build/</code></li>
<li>All example WASM modules were built using TinyGo into <code>build/</code></li>
</ul>
<h3 id="installing-the-artifacts">Installing the artifacts<a class="headerlink" href="#installing-the-artifacts" title="Permanent link">#</a></h3>
<p><code>make install</code> copies the compiled binaries into your <code>$GOBIN</code> directory so you can run them directly from your terminal:</p>
<pre><code class="language-bash">cp build/cli      $GOBIN/propeller-cli
cp build/manager  $GOBIN/propeller-manager
cp build/proplet  $GOBIN/propeller-proplet
cp build/proxy    $GOBIN/propeller-proxy
</code></pre>
<p>Once installed, you can run the commands simply as:</p>
<pre><code class="language-bash">propeller-manager
propeller-proplet
propeller-cli
propeller-proxy
</code></pre>
<h2 id="working-with-the-rust-wasi-http-example">Working with the Rust WASI HTTP Example<a class="headerlink" href="#working-with-the-rust-wasi-http-example" title="Permanent link">#</a></h2>
<p>Propeller includes an example Rust WebAssembly HTTP component: <code>sample-wasi-http-rust</code>. Running the Rust WASI example validates your Rust/WASM setup and shows how a single WASI HTTP component works before integrating it with Propeller. This section shows you how to fetch it, build it, run it, and test it.</p>
<p>You can also refer to the original project’s instructions here:
<a href="https://github.com/bytecodealliance/sample-wasi-http-rust#sample-wasihttp-in-rust">https://github.com/bytecodealliance/sample-wasi-http-rust#sample-wasihttp-in-rust</a></p>
<h3 id="1-initialize-the-git-submodules">1. Initialize the Git submodules<a class="headerlink" href="#1-initialize-the-git-submodules" title="Permanent link">#</a></h3>
<p>From the root of the <code>propeller</code> repository:</p>
<pre><code class="language-bash">git submodule update --init
cd examples/sample-wasi-http-rust
</code></pre>
<p>This pulls in the <code>sample-wasi-http-rust</code> example code.</p>
<h3 id="2-install-the-required-rust-target">2. Install the required Rust target<a class="headerlink" href="#2-install-the-required-rust-target" title="Permanent link">#</a></h3>
<p>The example builds to a WebAssembly target. If you see errors about missing <code>wasm32-wasip2</code> or <code>wasm32-wasip1</code>, you need to add the target.</p>
<p>A safe default is to add the Preview 2 target:</p>
<pre><code class="language-bash">rustup target add wasm32-wasip2
</code></pre>
<blockquote>
<p>If this command fails, update Rust first:</p>
<p><code>bash
rustup update
rustup target add wasm32-wasip2</code></p>
</blockquote>
<h3 id="3-build-the-rust-example">3. Build the Rust example<a class="headerlink" href="#3-build-the-rust-example" title="Permanent link">#</a></h3>
<p>Build the example for the WebAssembly target:</p>
<pre><code class="language-bash">cargo build --target wasm32-wasip2
</code></pre>
<p>If the build completes successfully, you will see a message similar to:</p>
<pre><code class="language-bash">Finished `dev` profile [unoptimized + debuginfo] target(s) in X.XXs
</code></pre>
<p>At this point, you have a compiled WASI HTTP component.</p>
<h3 id="4-install-cargo-component-once">4. Install <code>cargo-component</code> (once)<a class="headerlink" href="#4-install-cargo-component-once" title="Permanent link">#</a></h3>
<p><code>cargo-component</code> makes it easy to work with Wasm components and run them with Wasmtime.</p>
<p>Install it using <code>cargo</code>:</p>
<pre><code class="language-bash">cargo install cargo-component
</code></pre>
<p>You only need to do this once on your machine.</p>
<h3 id="5-serve-the-rust-component-locally">5. Serve the Rust component locally<a class="headerlink" href="#5-serve-the-rust-component-locally" title="Permanent link">#</a></h3>
<p>From inside <code>examples/sample-wasi-http-rust</code>:</p>
<pre><code class="language-bash">cargo component serve
</code></pre>
<p>On first run, this may automatically install the <code>wasm32-wasip1</code> component standard library and then print something like:</p>
<pre><code class="language-bash">Creating component target/wasm32-wasip1/debug/sample_wasi_http_rust.wasm
Running `target/wasm32-wasip1/debug/sample_wasi_http_rust.wasm`
Serving HTTP on http://0.0.0.0:8080/
</code></pre>
<p>This means your WASI HTTP component is now running as an HTTP server on port <code>8080</code>.</p>
<p>Leave this terminal open while the server is running.</p>
<h3 id="6-test-the-rust-http-endpoints">6. Test the Rust HTTP endpoints<a class="headerlink" href="#6-test-the-rust-http-endpoints" title="Permanent link">#</a></h3>
<p>Open a <strong>new terminal</strong> and run the following commands to test the different routes:</p>
<h4 id="hello-world-route">Hello world route<a class="headerlink" href="#hello-world-route" title="Permanent link">#</a></h4>
<pre><code class="language-bash">curl -v http://127.0.0.1:8080/
</code></pre>
<p>You should see a <code>200 OK</code> response with a body similar to:</p>
<pre><code class="language-text">Hello, wasi:http/proxy world!
</code></pre>
<h4 id="wait-route">Wait route<a class="headerlink" href="#wait-route" title="Permanent link">#</a></h4>
<pre><code class="language-bash">curl -v http://127.0.0.1:8080/wait
</code></pre>
<p>This route sleeps briefly before responding, and you should see:</p>
<pre><code class="language-text">slept for 1001 millis
</code></pre>
<h4 id="echo-body-route">Echo body route<a class="headerlink" href="#echo-body-route" title="Permanent link">#</a></h4>
<pre><code class="language-bash">curl -v http://127.0.0.1:8080/echo -d 'hello from John Doe'
</code></pre>
<p>The response will echo the request body back:</p>
<pre><code class="language-text">hello from John Doe
</code></pre>
<h4 id="echo-headers-route">Echo headers route<a class="headerlink" href="#echo-headers-route" title="Permanent link">#</a></h4>
<pre><code class="language-bash">curl -v http://127.0.0.1:8080/echo-headers -H 'X-Test: 123' -H 'X-Foo: bar'
</code></pre>
<p>You will see the headers reflected in the response:</p>
<pre><code class="language-text">x-foo: bar
user-agent: curl/...
accept: */*
x-test: 123
</code></pre>
<h4 id="echo-trailers-route">Echo trailers route<a class="headerlink" href="#echo-trailers-route" title="Permanent link">#</a></h4>
<pre><code class="language-bash">curl -v http://127.0.0.1:8080/echo-trailers
</code></pre>
<p>This demonstrates handling of HTTP trailers over WASI HTTP.</p>
<blockquote>
<p><strong>When you are done:</strong>
Go back to the terminal running <code>cargo component serve</code> and press <code>Ctrl+C</code> to stop the server.</p>
</blockquote>
<h2 id="run-supermq-and-propeller">Run SuperMQ and Propeller<a class="headerlink" href="#run-supermq-and-propeller" title="Permanent link">#</a></h2>
<p>Propeller needs to talk to a running SuperMQ instance.
To get everything working, you’ll always do these three high-level steps:</p>
<ol>
<li><strong>Start SuperMQ</strong> – so the CLI has something to talk to.</li>
<li><strong>Provision SuperMQ</strong> with <code>propeller-cli provision</code> – this creates the domain, clients, channels, and writes a <code>config.toml</code> file with all the IDs and keys.</li>
<li><strong>Start (or restart) the Propeller services</strong> – so <code>propeller-manager</code>, <code>propeller-proplet</code>, and <code>propeller-proxy</code> can read <code>config.toml</code> and connect correctly.</li>
</ol>
<p>You can run the services in two ways:</p>
<ul>
<li><strong>Option 1 (recommended):</strong> everything via <strong>Docker</strong></li>
<li><strong>Option 2:</strong> run the <strong>Propeller binaries directly</strong> on your machine</li>
</ul>
<p>Pick one option and follow it from start to finish.</p>
<hr />
<h2 id="option-1-run-everything-with-docker-recommended">Option 1: Run everything with Docker (recommended)<a class="headerlink" href="#option-1-run-everything-with-docker-recommended" title="Permanent link">#</a></h2>
<p>In this mode, Docker runs:</p>
<ul>
<li>SuperMQ core services (auth, users, clients, domains, channels, adapters, etc.)</li>
<li>Propeller services: <strong>manager</strong>, <strong>proplet</strong>, and <strong>proxy</strong></li>
</ul>
<blockquote>
<p>When you run <code>make start-supermq</code>, you are starting <strong>both</strong> SuperMQ and the Propeller services defined in <code>docker/compose.yaml</code>.</p>
</blockquote>
<h3 id="1-start-the-supermq-docker-stack-first-time">1. Start the SuperMQ Docker stack (first time)<a class="headerlink" href="#1-start-the-supermq-docker-stack-first-time" title="Permanent link">#</a></h3>
<p>From the root of the <code>propeller</code> repo:</p>
<pre><code class="language-bash">cd propeller
make start-supermq
</code></pre>
<p>This runs:</p>
<pre><code class="language-bash">docker compose -f docker/compose.yaml --env-file docker/.env up -d
</code></pre>
<p>At this point:</p>
<ul>
<li>SuperMQ is up and reachable.</li>
<li>Propeller containers (manager, proplet, proxy) will <strong>fail to start correctly</strong> on the first run.
  That’s OK - they don’t have credentials yet because <code>config.toml</code> doesn’t exist.</li>
</ul>
<p>We only need SuperMQ up now so we can <strong>provision</strong> it.</p>
<h3 id="2-provision-supermq-with-propeller-cli">2. Provision SuperMQ with <code>propeller-cli</code><a class="headerlink" href="#2-provision-supermq-with-propeller-cli" title="Permanent link">#</a></h3>
<p>Now we create everything Propeller needs <strong>inside</strong> SuperMQ and generate the config file.</p>
<p>Run:</p>
<pre><code class="language-bash">propeller-cli provision
</code></pre>
<p>This command will:</p>
<ul>
<li>Log you into SuperMQ (you must have a SuperMQ user already created; if not, create one using the <a href="https://docs.supermq.abstractmachines.fr/cli#create-user">supermq-cli</a>, <code>curl</code>, or the web UI).</li>
<li>Create a <strong>domain</strong></li>
<li>Log your user into that domain</li>
<li>Create a <strong>manager client</strong></li>
<li>Create a <strong>proplet client</strong></li>
<li>Create a <strong>manager channel</strong></li>
<li>Connect the manager client to the manager channel</li>
<li>Connect the proplet client to the manager channel</li>
<li>Write all of these IDs and keys into a <strong><code>config.toml</code></strong> file in the current directory</li>
</ul>
<p>The process will look something like this:</p>
<p><a href="https://asciinema.org/a/8oYuONLQkvuJ3jdjYdVH97qxH"><img alt="asciicast" src="https://asciinema.org/a/8oYuONLQkvuJ3jdjYdVH97qxH.svg" /></a></p>
<p>If it succeeds, you’ll see:</p>
<pre><code class="language-bash">Successfully created config.toml file
</code></pre>
<p>Your <code>config.toml</code> will look like:</p>
<pre><code class="language-toml"># SuperMQ Configuration

[manager]
domain_id = &quot;182c0907-002c-4bfd-8bf3-e4f40c58dde6&quot;
client_id = &quot;f2fe9a33-144a-4346-a5d6-38e2eb07815e&quot;
client_key = &quot;ef7da52b-c01f-4b62-9502-6723d639405b&quot;
channel_id = &quot;8c6e1e6c-fc89-43b4-b00b-884a690c7419&quot;

[proplet]
domain_id = &quot;182c0907-002c-4bfd-8bf3-e4f40c58dde6&quot;
client_id = &quot;fa407362-9c5f-41b8-9a09-9d0c0b039287&quot;
client_key = &quot;991c4d03-2f2c-4ba5-97a6-45bead85457e&quot;
channel_id = &quot;8c6e1e6c-fc89-43b4-b00b-884a690c7419&quot;

[proxy]
domain_id = &quot;182c0907-002c-4bfd-8bf3-e4f40c58dde6&quot;
client_id = &quot;fa407362-9c5f-41b8-9a09-9d0c0b039287&quot;
client_key = &quot;991c4d03-2f2c-4ba5-97a6-45bead85457e&quot;
channel_id = &quot;8c6e1e6c-fc89-43b4-b00b-884a690c7419&quot;
</code></pre>
<h3 id="3-mount-configtoml-into-the-docker-services">3. Mount <code>config.toml</code> into the Docker services<a class="headerlink" href="#3-mount-configtoml-into-the-docker-services" title="Permanent link">#</a></h3>
<p>For the Docker containers to see <code>config.toml</code>, we need to mount it.</p>
<p>If the compose file uses a path under <code>docker/</code>, copy the file:</p>
<pre><code class="language-bash">cp config.toml docker/config.toml
</code></pre>
<p>Then, in <code>docker/compose.yaml</code>, make sure the Propeller services (manager, proplet, proxy) have a volume like this:</p>
<pre><code class="language-yaml">volumes:
  - ./config.toml:/config.toml
# or, if you copied it into docker/:
#  - ./config.toml:/config.toml
</code></pre>
<p>Uncomment or add these lines as needed.</p>
<h3 id="4-restart-the-docker-stack-so-propeller-reads-configtoml">4. Restart the Docker stack so Propeller reads <code>config.toml</code><a class="headerlink" href="#4-restart-the-docker-stack-so-propeller-reads-configtoml" title="Permanent link">#</a></h3>
<p>Now that:</p>
<ul>
<li>SuperMQ is provisioned, and</li>
<li><code>config.toml</code> exists and is mounted into the containers,</li>
</ul>
<p>we restart the stack:</p>
<pre><code class="language-bash">make stop-supermq
make start-supermq
</code></pre>
<p>On this second start:</p>
<ul>
<li><code>propeller-manager</code>, <code>propeller-proplet</code>, and <code>propeller-proxy</code> start up,</li>
<li>They see <code>/config.toml</code> inside the container,</li>
<li>They read the <code>[manager]</code>, <code>[proplet]</code>, and <code>[proxy]</code> sections,</li>
<li>They connect to SuperMQ using the correct domain, client IDs, client keys, and channel IDs.</li>
</ul>
<p>At this point, your system is up and ready to use.</p>
<h2 id="option-2-run-propeller-binaries-directly-without-docker">Option 2: Run Propeller binaries directly (without Docker)<a class="headerlink" href="#option-2-run-propeller-binaries-directly-without-docker" title="Permanent link">#</a></h2>
<p>In this mode:</p>
<ul>
<li>SuperMQ may still run in Docker (via <code>make start-supermq</code>), <strong>but</strong></li>
<li>You run the Propeller processes (<code>propeller-manager</code>, <code>propeller-proplet</code>, <code>propeller-proxy</code>) directly on your host.</li>
</ul>
<p>The provisioning step is <strong>the same</strong> as in Option 1:</p>
<ol>
<li>Start SuperMQ (Docker or however you like)</li>
<li>Run <code>propeller-cli provision</code> to generate <code>config.toml</code></li>
</ol>
<p>Make sure <code>config.toml</code> is in the directory where you will start the binaries, or set env vars to point them at the correct file.</p>
<h3 id="1-start-the-manager">1. Start the manager<a class="headerlink" href="#1-start-the-manager" title="Permanent link">#</a></h3>
<pre><code class="language-bash">propeller-manager
</code></pre>
<p>If everything is configured correctly, you’ll see logs similar to:</p>
<pre><code class="language-json">{&quot;time&quot;:&quot;2025-06-12T14:13:56.74162598+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;MQTT connection lost&quot;}
{&quot;time&quot;:&quot;2025-06-12T14:13:56.793894993+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Subscribe to MQTT topic completed successfully&quot;,&quot;duration&quot;:&quot;52.272009ms&quot;}
{&quot;time&quot;:&quot;2025-06-12T14:13:56.794210043+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;manager service http server listening at localhost:7070 without TLS&quot;}
</code></pre>
<p>The manager exposes an HTTP API on <code>localhost:7070</code>.</p>
<h3 id="2-start-the-proplet">2. Start the proplet<a class="headerlink" href="#2-start-the-proplet" title="Permanent link">#</a></h3>
<p>In another terminal:</p>
<pre><code class="language-bash">propeller-proplet
</code></pre>
<p>Example logs:</p>
<pre><code class="language-json">{&quot;time&quot;:&quot;2025-06-12T14:14:44.362072799+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;MQTT connection lost&quot;}
{&quot;time&quot;:&quot;2025-06-12T14:14:44.398147897+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;Proplet service is running.&quot;}
</code></pre>
<p>A proplet will automatically register itself with the manager.</p>
<h3 id="3-start-the-proxy">3. Start the proxy<a class="headerlink" href="#3-start-the-proxy" title="Permanent link">#</a></h3>
<p>The proxy needs to know which OCI registry to pull WebAssembly images from.
Set a few environment variables, then start it:</p>
<pre><code class="language-bash">export PROXY_REGISTRY_URL=&quot;docker.io&quot;
export PROXY_AUTHENTICATE=&quot;TRUE&quot;
export PROXY_REGISTRY_USERNAME=&quot;&quot;   # set if your registry requires auth
export PROXY_REGISTRY_PASSWORD=&quot;&quot;   # set if your registry requires auth

propeller-proxy
</code></pre>
<p>Example logs:</p>
<pre><code class="language-json">{&quot;time&quot;:&quot;2025-06-12T14:15:18.438848211+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;MQTT connection lost&quot;}
{&quot;time&quot;:&quot;2025-06-12T14:15:18.438823293+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;successfully initialized MQTT and HTTP config&quot;}
{&quot;time&quot;:&quot;2025-06-12T14:15:18.438886395+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;starting proxy service&quot;}
{&quot;time&quot;:&quot;2025-06-12T14:15:18.452592155+03:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;msg&quot;:&quot;successfully subscribed to topic&quot;}
</code></pre>
<h2 id="postman-collection">Postman Collection<a class="headerlink" href="#postman-collection" title="Permanent link">#</a></h2>
<p>This is a <a href="../api/postman_collection.json">collection</a> of the API calls that can be used to interact with the Propeller system.</p>
<h2 id="api">API<a class="headerlink" href="#api" title="Permanent link">#</a></h2>
<h3 id="list-proplets">List Proplets<a class="headerlink" href="#list-proplets" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl -X GET &quot;http://localhost:7070/proplets&quot;
</code></pre>
<p>This will output a response like the following:</p>
<pre><code class="language-json">{
  &quot;offset&quot;: 0,
  &quot;limit&quot;: 100,
  &quot;total&quot;: 1,
  &quot;proplets&quot;: [
    {
      &quot;id&quot;: &quot;fa407362-9c5f-41b8-9a09-9d0c0b039287&quot;,
      &quot;name&quot;: &quot;Wojahn-Omohundro&quot;,
      &quot;task_count&quot;: 1,
      &quot;alive&quot;: true,
      &quot;alive_history&quot;: [
        &quot;2025-06-12T14:22:04.379038459+03:00&quot;,
        &quot;2025-06-12T14:22:14.378443596+03:00&quot;,
        &quot;2025-06-12T14:22:24.379305586+03:00&quot;,
        &quot;2025-06-12T14:22:34.378765631+03:00&quot;,
        &quot;2025-06-12T14:22:44.381274342+03:00&quot;,
        &quot;2025-06-12T14:22:54.378152057+03:00&quot;,
        &quot;2025-06-12T14:23:04.380171407+03:00&quot;,
        &quot;2025-06-12T14:23:14.379503767+03:00&quot;,
        &quot;2025-06-12T14:23:24.379971214+03:00&quot;,
        &quot;2025-06-12T14:23:34.378886406+03:00&quot;
      ]
    }
  ]
}
</code></pre>
<h3 id="create-task">Create task<a class="headerlink" href="#create-task" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl -X POST &quot;http://localhost:7070/tasks&quot; \
-H &quot;Content-Type: application/json&quot; \
-d '{&quot;name&quot;: &quot;add&quot;, &quot;inputs&quot;: [10, 20]}'
</code></pre>
<p>This will output a response like the following:</p>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;e9858e56-a1dd-4e5a-9288-130f7be783ed&quot;,
  &quot;name&quot;: &quot;add&quot;,
  &quot;state&quot;: 0,
  &quot;cli_args&quot;: null,
  &quot;inputs&quot;: [10, 20],
  &quot;start_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;finish_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;created_at&quot;: &quot;2025-06-12T14:25:22.407167091+03:00&quot;,
  &quot;updated_at&quot;: &quot;0001-01-01T00:00:00Z&quot;
}
</code></pre>
<p>You can use the CLI to create a task as follows:</p>
<pre><code class="language-bash"># propeller-cli tasks create &lt;name&gt;
propeller-cli tasks create demo
</code></pre>
<p>This will output a response like the following:</p>
<pre><code class="language-json">{
  &quot;created_at&quot;: &quot;2025-09-16T10:25:31.491528704Z&quot;,
  &quot;finish_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;id&quot;: &quot;2ccb6b7c-3ce8-4c27-be19-01172954d593&quot;,
  &quot;name&quot;: &quot;demo&quot;,
  &quot;start_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;updated_at&quot;: &quot;0001-01-01T00:00:00Z&quot;
}
</code></pre>
<h3 id="get-a-task">Get a task<a class="headerlink" href="#get-a-task" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl -X GET &quot;http://localhost:7070/tasks/e9858e56-a1dd-4e5a-9288-130f7be783ed&quot;
</code></pre>
<p>This will output a response like the following:</p>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;e9858e56-a1dd-4e5a-9288-130f7be783ed&quot;,
  &quot;name&quot;: &quot;add&quot;,
  &quot;state&quot;: 0,
  &quot;cli_args&quot;: null,
  &quot;inputs&quot;: [10, 20],
  &quot;start_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;finish_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;created_at&quot;: &quot;2025-06-12T14:25:22.407167091+03:00&quot;,
  &quot;updated_at&quot;: &quot;0001-01-01T00:00:00Z&quot;
}
</code></pre>
<p>You can use the CLI to get a task as follows:</p>
<pre><code class="language-bash"># propeller-cli tasks view &lt;id&gt;
propeller-cli tasks view 2ccb6b7c-3ce8-4c27-be19-01172954d593
</code></pre>
<p>This will output a response like the following:</p>
<pre><code class="language-json">{
  &quot;created_at&quot;: &quot;2025-09-16T10:25:31.491528704Z&quot;,
  &quot;finish_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;id&quot;: &quot;2ccb6b7c-3ce8-4c27-be19-01172954d593&quot;,
  &quot;name&quot;: &quot;demo&quot;,
  &quot;start_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
  &quot;updated_at&quot;: &quot;0001-01-01T00:00:00Z&quot;
}
</code></pre>
<h3 id="upload-wasm-file">Upload Wasm File<a class="headerlink" href="#upload-wasm-file" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl -X PUT &quot;http://localhost:7070/tasks/e9858e56-a1dd-4e5a-9288-130f7be783ed/upload&quot; \
-F 'file=@&lt;propeller_path&gt;/build/addition.wasm'
</code></pre>
<h3 id="update-task-with-base64-encoded-wasm-file">Update task with base64 encoded Wasm file<a class="headerlink" href="#update-task-with-base64-encoded-wasm-file" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl --location --request PUT 'http://localhost:7070/tasks/e9858e56-a1dd-4e5a-9288-130f7be783ed' \
--header 'Content-Type: application/json' \
--data '{
    &quot;file&quot;: &quot;AGFzbQEAAAABBwFgAn9/AX8DAgEABwgBBG1haW4AAAoJAQcAIAAgAWoL&quot;
}'
</code></pre>
<pre><code class="language-bash">propeller-cli tasks update e9858e56-a1dd-4e5a-9288-130f7be783ed '{&quot;file&quot;: &quot;AGFzbQEAAAABBwFgAn9/AX8DAgEABwgBBG1haW4AAAoJAQcAIAAgAWoL&quot;}'
</code></pre>
<h3 id="start-a-task">Start a task<a class="headerlink" href="#start-a-task" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl -X POST &quot;http://localhost:7070/tasks/e9858e56-a1dd-4e5a-9288-130f7be783ed/start&quot;
</code></pre>
<p>You can use the CLI to start a task as follows:</p>
<pre><code class="language-bash"># propeller-cli tasks start &lt;id&gt;
propeller-cli tasks start 2ccb6b7c-3ce8-4c27-be19-01172954d593
</code></pre>
<p>This will output a response like the following:</p>
<pre><code class="language-bash">ok
</code></pre>
<h3 id="stop-a-task">Stop a task<a class="headerlink" href="#stop-a-task" title="Permanent link">#</a></h3>
<pre><code class="language-bash">curl -X POST &quot;http://localhost:7070/tasks/e9858e56-a1dd-4e5a-9288-130f7be783ed/stop&quot;
</code></pre>
<h3 id="creating-tasks-from-oci-registry-images">Creating Tasks from OCI Registry Images<a class="headerlink" href="#creating-tasks-from-oci-registry-images" title="Permanent link">#</a></h3>
<p>For WebAssembly modules stored in an OCI registry, you can specify the image URL during task creation. The proxy will automatically retrieve the WASM file from the registry when the task starts, eliminating the need for manual file uploads.</p>
<pre><code class="language-bash">curl -X POST &quot;http://localhost:7070/tasks&quot; \
-H &quot;Content-Type: application/json&quot; \
-d '{&quot;name&quot;: &quot;add&quot;, &quot;inputs&quot;: [10, 20], &quot;image_url&quot;: &quot;docker.io/mrstevenyaga/add.wasm&quot;}'
</code></pre>
<p>The proxy will handle pulling the image from the specified OCI registry during task execution, streamlining the deployment process.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright (c) Abstract Machines
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>